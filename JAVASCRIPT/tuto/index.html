<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        const students = [
            {
                name: 'John',
                notes: [1, 20, 18, 19, 12]
            },
            {
                name: 'Jane',
                notes: [17, 18, 20, 13, 15]
            },
            {
                name: 'Sophie',
                notes: [17, 12, 14, 15, 13]
            },
            {
                name: 'Marc',
                notes: [2, 3, 5, 8, 9]
            },
            {
                name: 'Manon',
                notes: [18, 17, 18, 19, 12]
            }
        ]

        const moyenne = (notes) => {
            let sum = 0
            for(let note of notes){
                sum = sum + note
            }
            return sum / notes.length
        }

        const compareStudent = (a, b) => {
            return b.moyenne - a.moyenne
        }

        const formatStudent = (student) => {
            return `${student}: ${students[student].name} a eu une moyenne de ${students[student].moyenne} avec min = ${students[student].worst} et max = ${students[student].best}`
        }

        for (let student of students){
            student.moyenne = moyenne(student.notes)
            student.worst = Math.min(student.notes)    
            student.best = Math.max(student.notes)
        }

        students.sort(compareStudent)

        console.log(`Top 3 etudiants : \n ${formatStudent(0)} \n ${formatStudent(1)} \n ${formatStudent(2)}`)

    </script>
</body>
</html>